@*@model List<AddUserBountyDto>
@{
    ViewData["Title"] = "CompanyEmployeeForBounty";
    Layout = "~/Views/Shared/_Manager.cshtml";
}
<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

<table class="table table-bordered table-striped">
    <tr>

        <th>Adı</th>
        <th>Soyadı</th>
        <th>Vardiya Başlangıç Saati</th>
        <th>Vardiya Bitiş Saati</th>
        <th>Mola Başlangıç Saati</th>
        <th>Mola Bitiş Saati</th>
        

    </tr>
    @if (@Model.Count() == 0)
    {
        <tr>
            <td colspan=3>Mevcut çalışanınız yoktur</td>
        </tr>
    }
    else
    {
        @foreach (var item in Model)
        {
<tr>

    <td>@item.FirstName</td>
    <td>@item.LastName</td>
    <td>@item.ShiftStartDate.ToString("HH:mm")</td>
    <td>@item.ShiftEndDate.ToString("HH:mm")</td>
    <td>@item.BreakStartDate.ToString("HH:mm")</td>
    <td>@item.BreakEndDate.ToString("HH:mm")</td>
    <td><a href="#" class="view" data-target="/Manager/AddShiftEmployee/@item.UserId"> Vardiya Ekle</a></td>
    <td><a href="#" class="viewb" data-target="/Manager/AddBreakEmployee/@item.UserId"> Mola Ekle</a></td>

    @if ((string)TempData["active"] == "false")
    {
        <td><a href="/Manager/InActiveShiftBreakEmployee/@item.UserId" class="btn btn-outline-success"> Vardiyayı Aktif Et</a></td>
    }
    else
    {
        <td><a href="/Manager/InActiveShiftBreakEmployee/@item.UserId" class="btn btn-outline-danger"> Vardiyayı Pasif Et</a></td>

    }






</tr>
        }
    }
</table>*@
<!-- Button trigger modal -->
<!-- Modal -->
<div class="modal fade" id="modelView" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLongTitle">Saat Ekle</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                ...
            </div>
            <div class="modal-footer">
                
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        // a tagimizde bulunan .view classımıza click olduğunda

        $("body").on("click", ".viewb", function () {
            //data-target dan url mizi al
            var url = $(this).data("target");
            //bu urlimizi post et
            $.get(url, function (data) { })
                //eğer işlemimiz başarılı bir şekilde gerçekleşirse
                .done(function (data) {
                    //gelen datayı .modal-body mizin içerise html olarak ekle
                    $("#modelView .modal-body").html(data);
                    //sonra da modalimizi göster
                    $("#modelView").modal("show");

                })
            $("body").on("click", "save", function () {
                //data-target dan url mizi al
                var url = $(this).data("target");
                //bu urlimizi post et
                $.post(url, function (data) { })
                //eğer işlemimiz başarılı bir şekilde gerçekleşirse


            })

                //eğer işlem başarısız olursa
                .fail(function () {
                    //modalımızın bodysine Error! yaz
                    $("#modelView .modal-body").text("Error!!");
                    //sonra da modalimizi göster
                    $("#modelView").modal("show");
                })

        });
    })

</script>




<script>
    $(function () {
        // a tagimizde bulunan .view classımıza click olduğunda

        $("body").on("click", ".view", function () {
            //data-target dan url mizi al
            var url = $(this).data("target");
            //bu urlimizi post et
            $.get(url, function (data) { })
                //eğer işlemimiz başarılı bir şekilde gerçekleşirse
                .done(function (data) {
                    //gelen datayı .modal-body mizin içerise html olarak ekle
                    $("#modelView .modal-body").html(data);
                    //sonra da modalimizi göster
                    $("#modelView").modal("show");

                })
            $("body").on("click", "save", function () {
                //data-target dan url mizi al
                var url = $(this).data("target");
                //bu urlimizi post et
                $.post(url, function (data) { })
                //eğer işlemimiz başarılı bir şekilde gerçekleşirse


            })

                //eğer işlem başarısız olursa
                .fail(function () {
                    //modalımızın bodysine Error! yaz
                    $("#modelView .modal-body").text("Error!!");
                    //sonra da modalimizi göster
                    $("#modelView").modal("show");
                })

        });
    })

</script>


