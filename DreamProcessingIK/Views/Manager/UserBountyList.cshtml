@model List<AddUserBountyDto>
@{
    ViewData["Title"] = "UserBountyList";
    Layout = "~/Views/Shared/_Manager.cshtml";
}


@{
    Layout = "~/Views/Shared/_Manager.cshtml";
}
<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

<h1>prim İşlemleri</h1>
<table class="table table-bordered table-striped">
    <tr>

        <th>Tam İsmi</th>
  
        <th>Maaşı</th>
        <th>Primleri</th>
        <th>Prim Açıklaması</th>
        <th>Total</th>
        

    </tr>
    @if (@Model.Count() == 0)
    {
        <tr>
            <td colspan=3>Mevcut çalışanınız yoktur</td>
        </tr>
    }
    else
    {
        @foreach (var item in Model)
        {
<tr>

    <td>@item.FullName</td>
    <td>@item.ConstantSalary</td>
    <td>@item.Amount</td>
    <td>@item.Description</td>
    <td>@item.Total</td>

    <td><a href="#" class="view" data-target="/Manager/AddShiftEmployee/@item.UserId"> Prim Ekle</a></td>


</tr>
        }
    }
</table>
<!-- Button trigger modal -->
<!-- Modal -->
<div class="modal fade" id="modelView" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLongTitle">Saat Ekle</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                ...
            </div>
            <div class="modal-footer">
                
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        // a tagimizde bulunan .view classımıza click olduğunda

        $("body").on("click", ".viewb", function () {
            //data-target dan url mizi al
            var url = $(this).data("target");
            //bu urlimizi post et
            $.get(url, function (data) { })
                //eğer işlemimiz başarılı bir şekilde gerçekleşirse
                .done(function (data) {
                    //gelen datayı .modal-body mizin içerise html olarak ekle
                    $("#modelView .modal-body").html(data);
                    //sonra da modalimizi göster
                    $("#modelView").modal("show");

                })
            $("body").on("click", "save", function () {
                //data-target dan url mizi al
                var url = $(this).data("target");
                //bu urlimizi post et
                $.post(url, function (data) { })
                //eğer işlemimiz başarılı bir şekilde gerçekleşirse


            })

                //eğer işlem başarısız olursa
                .fail(function () {
                    //modalımızın bodysine Error! yaz
                    $("#modelView .modal-body").text("Error!!");
                    //sonra da modalimizi göster
                    $("#modelView").modal("show");
                })

        });
    })

</script>

